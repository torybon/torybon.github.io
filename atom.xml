<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>文笔轨迹</title>
  
  <subtitle>bowen&#39;s blog</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-12-27T15:50:35.916Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>bowen</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>VirtualBox下Linux扩容</title>
    <link href="http://example.com/2021/12/27/VirtualBox%E4%B8%8BLinux%E6%89%A9%E5%AE%B9/"/>
    <id>http://example.com/2021/12/27/VirtualBox%E4%B8%8BLinux%E6%89%A9%E5%AE%B9/</id>
    <published>2021-12-27T15:06:15.223Z</published>
    <updated>2021-12-27T15:50:35.916Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/virtualbox-centos.png" alt="" /></p><p>VirtualBox搭建的centOS 7.2 环境下，/dev/mapper/centos-root 空间不足，需要扩容。</p><span id="more"></span><h2 id="root确认故障"><a class="markdownIt-Anchor" href="#root确认故障"></a> 🌀 root确认故障</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br><span class="line">df -h</span><br></pre></td></tr></table></figure><h2 id="在虚拟机中添加一块物理的磁盘重起虚拟机"><a class="markdownIt-Anchor" href="#在虚拟机中添加一块物理的磁盘重起虚拟机"></a> 🌀 在虚拟机中添加一块物理的磁盘，重起虚拟机</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 虚拟机设置界面中选中需要扩容的磁盘, 然后在右下方处点击扩展按钮, 即可启动扩展任务</span><br></pre></td></tr></table></figure><h2 id="查看磁盘编号"><a class="markdownIt-Anchor" href="#查看磁盘编号"></a> 🌀 查看磁盘编号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[user@localhost ~]$ ls /dev/sd*</span><br><span class="line">/dev/sda  /dev/sda1  /dev/sda2</span><br><span class="line"></span><br><span class="line">[root@localhost user]# fdisk -l</span><br><span class="line"></span><br><span class="line">磁盘 /dev/sda：16.1 GB, 16106127360 字节，31457280 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：dos</span><br><span class="line">磁盘标识符：0x000398a7</span><br><span class="line"></span><br><span class="line">   设备 Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     2099199     1048576   83  Linux</span><br><span class="line">/dev/sda2         2099200    20971519     9436160   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">磁盘 /dev/mapper/centos-root：8585 MB, 8585740288 字节，16769024 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">磁盘 /dev/mapper/centos-swap：1073 MB, 1073741824 字节，2097152 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br></pre></td></tr></table></figure><h2 id="挂载"><a class="markdownIt-Anchor" href="#挂载"></a> 🌀 挂载</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# fdisk /dev/sda</span><br><span class="line">欢迎使用 fdisk (util-linux 2.23.2)。</span><br><span class="line"></span><br><span class="line">更改将停留在内存中，直到您决定将更改写入磁盘。</span><br><span class="line">使用写入命令前请三思。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：m</span><br><span class="line">命令操作</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition</span><br><span class="line">   g   create a new empty GPT partition table</span><br><span class="line">   G   create an IRIX (SGI) partition table</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table</span><br><span class="line">   q   quit without saving changes</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition&#x27;s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit</span><br><span class="line">   x   extra functionality (experts only)</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：n</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (2 primary, 0 extended, 2 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">分区号 (3,4，默认 3)：3</span><br><span class="line">起始 扇区 (20971520-31457279，默认为 20971520)：</span><br><span class="line">将使用默认值 20971520</span><br><span class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (20971520-31457279，默认为 31457279)：</span><br><span class="line">将使用默认值 31457279</span><br><span class="line">分区 3 已设置为 Linux 类型，大小设为 5 GiB</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：w</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line"></span><br><span class="line">WARNING: Re-reading the partition table failed with error 16: 设备或资源忙.</span><br><span class="line">The kernel still uses the old table. The new table will be used at</span><br><span class="line">the next reboot or after you run partprobe(8) or kpartx(8)</span><br><span class="line">正在同步磁盘。</span><br><span class="line">[root@localhost user]#</span><br></pre></td></tr></table></figure><h2 id="支持lvm"><a class="markdownIt-Anchor" href="#支持lvm"></a> 🌀 支持LVM</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# fdisk /dev/sda</span><br><span class="line">欢迎使用 fdisk (util-linux 2.23.2)。</span><br><span class="line"></span><br><span class="line">更改将停留在内存中，直到您决定将更改写入磁盘。</span><br><span class="line">使用写入命令前请三思。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：m</span><br><span class="line">命令操作</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition</span><br><span class="line">   g   create a new empty GPT partition table</span><br><span class="line">   G   create an IRIX (SGI) partition table</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table</span><br><span class="line">   q   quit without saving changes</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition&#x27;s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit</span><br><span class="line">   x   extra functionality (experts only)</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：t</span><br><span class="line">分区号 (1-3，默认 3)：3</span><br><span class="line">Hex 代码(输入 L 列出所有代码)：8e</span><br><span class="line">已将分区“Linux”的类型更改为“Linux LVM”</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：w</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line"></span><br><span class="line">WARNING: Re-reading the partition table failed with error 16: 设备或资源忙.</span><br><span class="line">The kernel still uses the old table. The new table will be used at</span><br><span class="line">the next reboot or after you run partprobe(8) or kpartx(8)</span><br><span class="line">正在同步磁盘。</span><br></pre></td></tr></table></figure><h2 id="reboot-确认"><a class="markdownIt-Anchor" href="#reboot-确认"></a> 🌀 reboot &amp; 确认</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# reboot</span><br><span class="line"></span><br><span class="line">[root@localhost user]# fdisk -l</span><br><span class="line"></span><br><span class="line">磁盘 /dev/sda：16.1 GB, 16106127360 字节，31457280 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：dos</span><br><span class="line">磁盘标识符：0x000398a7</span><br><span class="line"></span><br><span class="line">   设备 Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     2099199     1048576   83  Linux</span><br><span class="line">/dev/sda2         2099200    20971519     9436160   8e  Linux LVM</span><br><span class="line">/dev/sda3        20971520    31457279     5242880   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">磁盘 /dev/mapper/centos-root：8585 MB, 8585740288 字节，16769024 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">磁盘 /dev/mapper/centos-swap：1073 MB, 1073741824 字节，2097152 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br></pre></td></tr></table></figure><h2 id="格式化该新添加的分区"><a class="markdownIt-Anchor" href="#格式化该新添加的分区"></a> 🌀 格式化该新添加的分区</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# mkfs -t ext3 /dev/sda3</span><br><span class="line">mke2fs 1.42.9 (28-Dec-2013)</span><br><span class="line">文件系统标签=</span><br><span class="line">OS type: Linux</span><br><span class="line">块大小=4096 (log=2)</span><br><span class="line">分块大小=4096 (log=2)</span><br><span class="line">Stride=0 blocks, Stripe width=0 blocks</span><br><span class="line">327680 inodes, 1310720 blocks</span><br><span class="line">65536 blocks (5.00%) reserved for the super user</span><br><span class="line">第一个数据块=0</span><br><span class="line">Maximum filesystem blocks=1342177280</span><br><span class="line">40 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per group</span><br><span class="line">8192 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">        32768, 98304, 163840, 229376, 294912, 819200, 884736</span><br><span class="line"></span><br><span class="line">Allocating group tables: 完成</span><br><span class="line">正在写入inode表: 完成</span><br><span class="line">Creating journal (32768 blocks): 完成</span><br><span class="line">Writing superblocks and filesystem accounting information: 完成</span><br></pre></td></tr></table></figure><h2 id="确认根分区信息"><a class="markdownIt-Anchor" href="#确认根分区信息"></a> 🌀 确认根分区信息</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# lvs</span><br><span class="line">  LV   VG     Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert</span><br><span class="line">  root centos -wi-ao---- &lt;8.00g</span><br><span class="line">  swap centos -wi-ao----  1.00g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost user]# pvcreate /dev/sda3</span><br><span class="line">WARNING: ext3 signature detected on /dev/sda3 at offset 1080. Wipe it? [y/n]: y</span><br><span class="line">  Wiping ext3 signature on /dev/sda3.</span><br><span class="line">  Physical volume &quot;/dev/sda3&quot; successfully created.</span><br><span class="line">[root@localhost user]# df -h</span><br><span class="line">文件系统                 容量  已用  可用 已用% 挂载点</span><br><span class="line">/dev/mapper/centos-root  8.0G  6.1G  1.9G   77% /</span><br><span class="line">devtmpfs                 898M     0  898M    0% /dev</span><br><span class="line">tmpfs                    910M     0  910M    0% /dev/shm</span><br><span class="line">tmpfs                    910M  9.6M  901M    2% /run</span><br><span class="line">tmpfs                    910M     0  910M    0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1               1014M  146M  869M   15% /boot</span><br><span class="line">tmpfs                    182M     0  182M    0% /run/user/0</span><br><span class="line">tmpfs                    182M     0  182M    0% /run/user/1000</span><br><span class="line">[root@localhost user]# vgextend centos /dev/sda3</span><br><span class="line">  Volume group &quot;centos&quot; successfully extended</span><br><span class="line">[root@localhost user]# vgdisplay</span><br><span class="line">  --- Volume group ---</span><br><span class="line">  VG Name               centos</span><br><span class="line">  System ID</span><br><span class="line">  Format                lvm2</span><br><span class="line">  Metadata Areas        2</span><br><span class="line">  Metadata Sequence No  4</span><br><span class="line">  VG Access             read/write</span><br><span class="line">  VG Status             resizable</span><br><span class="line">  MAX LV                0</span><br><span class="line">  Cur LV                2</span><br><span class="line">  Open LV               2</span><br><span class="line">  Max PV                0</span><br><span class="line">  Cur PV                2</span><br><span class="line">  Act PV                2</span><br><span class="line">  VG Size               13.99 GiB</span><br><span class="line">  PE Size               4.00 MiB</span><br><span class="line">  Total PE              3582</span><br><span class="line">  Alloc PE / Size       2303 / &lt;9.00 GiB</span><br><span class="line">  Free  PE / Size       1279 / &lt;5.00 GiB</span><br><span class="line">  VG UUID               drQqLf-ibdG-E4IB-bAR1-ExjT-Ec6J-dUc3ts</span><br></pre></td></tr></table></figure><h2 id="向跟分区拓展"><a class="markdownIt-Anchor" href="#向跟分区拓展"></a> 🌀 向跟分区拓展</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# lvextend -L +4.99G /dev/centos/root /dev/sda3</span><br><span class="line">  Rounding size to boundary between physical extents: 4.99 GiB.</span><br><span class="line">  Size of logical volume centos/root changed from &lt;8.00 GiB (2047 extents) to &lt;12.99 GiB (3325 extents).</span><br><span class="line">  Logical volume centos/root successfully resized.</span><br><span class="line"></span><br><span class="line">[root@localhost user]# xfs_growfs /dev/mapper/centos-root</span><br><span class="line">meta-data=/dev/mapper/centos-root isize=512    agcount=4, agsize=524032 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0 spinodes=0</span><br><span class="line">data     =                       bsize=4096   blocks=2096128, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal               bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line">data blocks changed from 2096128 to 3404800</span><br></pre></td></tr></table></figure><h2 id="check"><a class="markdownIt-Anchor" href="#check"></a> 🌀 check</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost user]# df -h</span><br><span class="line">文件系统                 容量  已用  可用 已用% 挂载点</span><br><span class="line">/dev/mapper/centos-root   13G  6.1G  6.9G   47% /</span><br><span class="line">devtmpfs                 898M     0  898M    0% /dev</span><br><span class="line">tmpfs                    910M     0  910M    0% /dev/shm</span><br><span class="line">tmpfs                    910M  9.6M  901M    2% /run</span><br><span class="line">tmpfs                    910M     0  910M    0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1               1014M  146M  869M   15% /boot</span><br><span class="line">tmpfs                    182M     0  182M    0% /run/user/0</span><br><span class="line">tmpfs                    182M     0  182M    0% /run/user/1000</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/virtualbox-centos.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;VirtualBox搭建的centOS 7.2 环境下，/dev/mapper/centos-root 空间不足，需要扩容。&lt;/p&gt;</summary>
    
    
    
    <category term="技术" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
    <category term="VirtualBox" scheme="http://example.com/tags/VirtualBox/"/>
    
  </entry>
  
  <entry>
    <title>Linux VS Windows</title>
    <link href="http://example.com/2021/12/26/Linux%20VS%20Windows/"/>
    <id>http://example.com/2021/12/26/Linux%20VS%20Windows/</id>
    <published>2021-12-26T14:57:34.986Z</published>
    <updated>2021-12-27T14:51:50.476Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/linux-vs-windows.png" alt="" /></p><p>微软在更新了win11之后，再次成功的引起了一波声讨浪潮。好像每次的升级都会引发这样的讨论，就连win10的时候也不例外，而每次伴随着对新系统的批评，都会有人从windows转入Linux或者macOS，在将Linux日常使用一段时间之后，给出一个暴论：现阶段下，Linux替换windows的时机还未成熟。</p><span id="more"></span><pre class="highlight"><code class="">linux is free only if your time is free</code></pre><p>Linux最大的问题在于软件的兼容性，由于windows和Linux的软件不互通，而部分软件只适配了windows版本，正是有鉴于此，才会有wine。<br />windows每次更新都会有人因为不适应新的系统而转入Linux，但是也总是会有人从Linux转回windows。在Linux上能做事，但是不一定能做好事。以office为例，在Linux上能够使用Libre Office，但是对于宏的支持没有Microsoft Office，Libre Office Excel还有行数限制，visio更是无从谈起。对于游戏的支持，使用wine，模拟器，Steam Proton兼容等方式能引导大部分游戏，但是这些游戏都需要花费时间配置。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/linux-vs-windows.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;微软在更新了win11之后，再次成功的引起了一波声讨浪潮。好像每次的升级都会引发这样的讨论，就连win10的时候也不例外，而每次伴随着对新系统的批评，都会有人从windows转入Linux或者macOS，在将Linux日常使用一段时间之后，给出一个暴论：现阶段下，Linux替换windows的时机还未成熟。&lt;/p&gt;</summary>
    
    
    
    <category term="随笔" scheme="http://example.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>个人博客的起步 Hexo</title>
    <link href="http://example.com/2021/12/26/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%9A%84%E8%B5%B7%E6%AD%A5Hexo/"/>
    <id>http://example.com/2021/12/26/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%9A%84%E8%B5%B7%E6%AD%A5Hexo/</id>
    <published>2021-12-26T11:08:18.304Z</published>
    <updated>2021-12-27T14:51:54.353Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/Hexo-logo.png" alt="" /></p><p>Hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Heroku上，是搭建博客的首选框架。另一方面，使用GitHub托管个人主页，最直观的优点就是：<font color='green'>免费</font>。省去了服务器的租借费用或者使用时的电费，非常的<font color='green'>绿色</font>。</p><span id="more"></span><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 🌀 前言</h2><p>最近下定决心，把原先写的一些东西归个档，迁移到博客上，最为新博客的第一篇文章，记录搭建过程再合适不过。</p><h2 id="操作流程"><a class="markdownIt-Anchor" href="#操作流程"></a> 🌀 操作流程</h2><ol><li>GitHub<ul><li>GitHub上创建个人仓库</li></ul></li><li>本地调试<ul><li>本地安装Git，Nodejs，Hexo</li></ul></li><li>部署推送</li></ol><h2 id="步骤实操"><a class="markdownIt-Anchor" href="#步骤实操"></a> 🌀 步骤实操</h2><h3 id="github上创建个人仓库"><a class="markdownIt-Anchor" href="#github上创建个人仓库"></a> 📖 GitHub上创建个人仓库</h3><p>登录到GitHub，如果没有需要先注册用户。此处基于<font color='green'>免费</font>原则，假定是免费用户。</p><p><strong>🐞 坑01</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 仓库命名：仓库的名称必须是 用户名.github.io，否则最终访问会报404。例如：</span><br><span class="line">torybon.github.io</span><br></pre></td></tr></table></figure><p><strong>🐞 坑02</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 免费用户的仓库必须要设置成开发仓库，否则不会对外暴露访问URL，付费用户才可以在私有仓库上对外暴露URL。</span><br></pre></td></tr></table></figure><p><strong>🐞 坑03</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 需要构造GitHub-SSH密钥</span><br><span class="line">## git本地设置</span><br><span class="line">git config --global user.name &quot;GitHub用户名&quot;</span><br><span class="line">git config --global user.email &quot;GitHub注册邮箱&quot;</span><br><span class="line">## 获取id_rsa.pub</span><br><span class="line">ssh-keygen -t rsa -C &quot;GitHub注册邮箱&quot;</span><br><span class="line"># 打开GitHub，个人设定 -&gt; SSH and GPG keys -&gt; new SSH Key，将刚才构造的id_rsa.pub写入key</span><br></pre></td></tr></table></figure><h3 id="本地安装gitnodejshexo"><a class="markdownIt-Anchor" href="#本地安装gitnodejshexo"></a> 📖本地安装Git，Nodejs，Hexo</h3><ol><li><p>本地系统是Arch Linux，使用pacman安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pacman -S git nodejs-lts-gallium npm</span><br><span class="line"></span><br><span class="line"><span class="comment"># git --version  -&gt;  git version 2.34.1</span></span><br><span class="line"><span class="comment"># node -v        -&gt;  v16.13.1</span></span><br><span class="line"><span class="comment"># npm -v         -&gt;  8.3.0</span></span><br></pre></td></tr></table></figure></li><li><p>使用npm命令安装Hexo，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/hexo</span><br><span class="line">cd ~/hexo</span><br><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li><li><p>安装完成后，初始化博客，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure></li><li><p>新建临时页面，检测Hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new test_my_site</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li><li><p>浏览器查看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:4000</span><br></pre></td></tr></table></figure></li></ol><p>后续全部的操作都在 <code>hexo/blog</code> 目录下进行</p><h3 id="hexo常用命令"><a class="markdownIt-Anchor" href="#hexo常用命令"></a> 📖 Hexo常用命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g #安装Hexo</span><br><span class="line">npm update hexo -g #升级</span><br><span class="line">hexo init #初始化博客</span><br><span class="line"></span><br><span class="line">命令简写</span><br><span class="line">hexo n &quot;我的博客&quot; == hexo new &quot;我的博客&quot; #新建文章</span><br><span class="line">hexo g == hexo generate #生成</span><br><span class="line">hexo s == hexo server #启动服务预览</span><br><span class="line">hexo d == hexo deploy #部署</span><br><span class="line"></span><br><span class="line">hexo server #Hexo会监视文件变动并自动更新，无须重启服务器</span><br><span class="line">hexo server -s #静态模式</span><br><span class="line">hexo server -p 5000 #更改端口</span><br><span class="line">hexo server -i 192.168.1.1 #自定义 IP</span><br><span class="line">hexo clean #清除缓存，若是网页正常情况下可以忽略这条命令</span><br></pre></td></tr></table></figure><h3 id="部署推送"><a class="markdownIt-Anchor" href="#部署推送"></a> 📖 部署推送</h3><p>在blog根目录里的 _config.yml 文件是站点核心配置文件：推送配置在这里修改<br /><img src="/images/Hexo-folder.png" alt="" /></p><p>在文件的最下面的部分，填写GitHub的仓库路径<br /><img src="/images/Hexo-gitConf.png" alt="" /></p><p>安装推送插件并且推送部署</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>访问GitHub仓库页面，settings -&gt; pages。在这里能看到GitHub的发布URL。至此，初始的Blog构造并且发布完成。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/Hexo-logo.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Heroku上，是搭建博客的首选框架。另一方面，使用GitHub托管个人主页，最直观的优点就是：&lt;font color=&#39;green&#39;&gt;免费&lt;/font&gt;。省去了服务器的租借费用或者使用时的电费，非常的&lt;font color=&#39;green&#39;&gt;绿色&lt;/font&gt;。&lt;/p&gt;</summary>
    
    
    
    <category term="技术" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Hexo" scheme="http://example.com/tags/Hexo/"/>
    
    <category term="nodejs" scheme="http://example.com/tags/nodejs/"/>
    
  </entry>
  
</feed>
